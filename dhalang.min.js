const printKw="pandadhada",incPtr="panda",decPtr="dapan",incCell="pandha",decCell="dhapan",loopStart="dapandha",loopEnd="dhapanda";function run(e){let l=[0],n=0,a="",d=e.split(" ");for(let e=0;e<d.length;e++){let t=d[e];if(t===printKw)a+=String.fromCharCode(l[n]);else if(t===incPtr)n+=1,n>=l.length&&l.push(0);else if(t===decPtr)n--,n<0&&(n=0);else if(t===incCell)l[n]++;else if(t===decCell)l[n]--;else if(t===loopStart){let t=d[e+1],o=e+2;if(-1===d.slice(o).indexOf(loopEnd))throw new Error("Unclosed loop");let r=d.slice(o).indexOf(loopEnd)+o,i=d.slice(o,r);for(let e=0;e<t;e++){let[e,d,t]=run(i.join(" "));t&&(a+=t);for(let n=0;n<e.length;n++)l[n]+=e[n];n+=d,n>=l.length&&l.push(0)}}}return[l,n,a,d]}console.log(run("dapandha 117 pandha dhapanda pandadhada")[2]);
